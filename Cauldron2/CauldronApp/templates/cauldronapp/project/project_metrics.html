{% load cauldron_tags %}

<div>

  <div class="card">
    <div class="card-header font-weight-bold">
      <ul class="nav nav-tabs card-header-tabs" id="card-tabs" role="tablist">
        <li class="nav-item" role="presentation">
          <a class="nav-link" data-category="overview" data-toggle="tab" href="#overview" role="tab" aria-controls="overview" aria-selected="true">Overview</a>
        </li>
        <li class="nav-item dropdown" style="line-height:1.5;" role="presentation">
          <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="tab" aria-controls="activity">Activity</a>
          <div class="dropdown-menu">
            <a class="dropdown-item" data-category="activity-overview" data-toggle="tab" role="tab" href="#activity-overview">Overview</a>
            {% if has_git %}
            <a class="dropdown-item" data-category="activity-git" data-toggle="tab" role="tab" href="#activity-git">Commits</a>
            {% else %}
            <a class="dropdown-item disabled" data-category="activity-git" data-toggle="tab" role="tab" href="#activity-git">Commits</a>
            {% endif %}
            {% if has_gitlab or has_github %}
            <a class="dropdown-item" data-category="activity-issues" data-toggle="tab" role="tab" href="#activity-issues">Issues</a>
            <a class="dropdown-item" data-category="activity-reviews" data-toggle="tab" role="tab" href="#activity-reviews">Reviews</a>
            {% else %}
            <a class="dropdown-item disabled" data-category="activity-issues" data-toggle="tab" role="tab" href="#activity-issues">Issues</a>
            <a class="dropdown-item disabled" data-category="activity-reviews" data-toggle="tab" role="tab" href="#activity-reviews">Reviews</a>
            {% endif %}
          </div>
        </li>
        <li class="nav-item dropdown" style="line-height:1.5;" role="presentation">
          <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="tab" aria-controls="community">Community</a>
          <div class="dropdown-menu">
            <a class="dropdown-item" data-category="community-overview" data-toggle="tab" role="tab" href="#community-overview">Overview</a>
            {% if has_git %}
            <a class="dropdown-item" data-category="community-git" data-toggle="tab" role="tab" href="#community-git">Commits</a>
            {% else %}
            <a class="dropdown-item disabled" data-category="community-git" data-toggle="tab" role="tab" href="#community-git">Commits</a>
            {% endif %}
            {% if has_gitlab or has_github %}
            <a class="dropdown-item" data-category="community-issues" data-toggle="tab" role="tab" href="#community-issues">Issues</a>
            <a class="dropdown-item" data-category="community-reviews" data-toggle="tab" role="tab" href="#community-reviews">Reviews</a>
            {% else %}
            <a class="dropdown-item disabled" data-category="community-issues" data-toggle="tab" role="tab" href="#community-issues">Issues</a>
            <a class="dropdown-item disabled" data-category="community-reviews" data-toggle="tab" role="tab" href="#community-reviews">Reviews</a>
            {% endif %}
          </div>
        </li>
        <li class="nav-item dropdown" style="line-height:1.5;" role="presentation">
          {% if has_gitlab or has_github %}
          <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="tab" aria-controls="performance">Performance</a>
          {% else %}
          <a class="nav-link dropdown-toggle disabled" data-toggle="dropdown" href="#" role="tab" aria-controls="performance">Performance</a>
          {% endif %}
          <div class="dropdown-menu">
            <a class="dropdown-item" data-category="performance-overview" data-toggle="tab" role="tab" href="#performance-overview">Overview</a>
            <a class="dropdown-item" data-category="performance-issues" data-toggle="tab" role="tab" href="#performance-issues">Issues</a>
            <a class="dropdown-item" data-category="performance-reviews" data-toggle="tab" role="tab" href="#performance-reviews">Reviews</a>
          </div>
        </li>
        {% if repositories_count > 0 %}
        <li class="nav-item">
          <a class="nav-link"
             data-toggle="tooltip" title="Visualize the data in Kibana"
             href="{% url 'open_public_kibana' project.id %}"
             target="_blank">
            <span class="icon"><i class="fa fa-chart-bar"></i></span>
            <span class="text">More details</span>
          </a>
        </li>
        {% endif %}

        <form method="GET" id="repository-select-form" action ="" class="form-inline ml-md-auto">
          <div class="form-group mb-1">
            <span class="font-weight-bold d-block d-md-inline mr-2">Filter by repository: </span>

            <select name="repo_url" class="selectpicker mr-2" title="Select a repository..." data-size="5" multiple data-max-options="50" data-style="btn-outline-dark" data-selected-text-format="count > 1" data-live-search="true">
              {% for repo in repos %}
              <option value={{repo.datasource_url}} data-icon="{{repo.backend | backend_fa_icon}}">{{repo.datasource_url}}</option>
              {% endfor %}
            </select>

            <button type="submit" class="btn btn-outline-dark"><strong>Apply filter</strong></button>
          </div>
          <input type="hidden" id="repository-select-from-date" name="from_date" value="">
          <input type="hidden" id="repository-select-to-date" name="to_date" value="">
          <input type="hidden" id="repository-select-tab" name="tab" value="">
        </form>

        <div class="ml-md-auto">
          <div class="input-group">
            <input type="text" class="form-control"  id="date-picker-input">
            <div class="input-group-append">
              <button class="btn btn-outline-secondary" type="button" id="date-picker">
                <i class="fa fa-calendar"></i>&nbsp;
                <i class="fa fa-caret-down"></i>
              </button>
            </div>
            <div class="ml-2">
                <button onclick="toggle_descriptions();" id="toggle-btn" type="button" class="btn btn-outline-dark show-descriptions-btn" data-toggle="tooltip" data-original-title="Show descriptions"><i class="fas fa-eye"></i></button>
            </div>
          </div>
        </div>
      </ul>
    </div>

    <div class="tab-content card-body text-center mb-4">
      <!-- Start Overview -->
      <div id="overview" class="mb-4 tab-pane fade show active" role="tabpanel" >
        <div class="row py-4 border">
          {% if has_git %}
          <div class="col-md">
            <p class="font-weight-bold text-muted mb-3"># Commits <i class="far fa-question-circle text-primary" data-toggle="tooltip" data-html="true" data-placement="top" data-delay='{"hide":"3000"}' title="Number of commits, ignoring pull/merge request commits. <a target='_blank' href='https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/overview/commits.md'>Read more</a>"></i></p>
            <p class="h5 font-weight-bold text-gray-800"><span id="number_commits_range"> {{ metrics.commits_range }}</span></p>
          </div>
          {% endif %}
          {% if has_gitlab or has_github %}
          <div class="col-md border-left border-right">
            <p class="font-weight-bold text-muted mb-3"># Pull requests <i class="far fa-question-circle text-primary" data-toggle="tooltip" data-html="true" data-placement="top" data-delay='{"hide":"3000"}' title="Number of new Pull/Merge Requests in a period of time. <a target='_blank' href='https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/overview/pull-merge-requests-created.md'>Read more</a>"></i></p>
            <p class="h5 font-weight-bold text-gray-800"><span id="number_reviews_opened"> {{ metrics.reviews_opened }}</span></p>
          </div>
          <div class="col-md border-left border-right">
            <p class="font-weight-bold text-muted mb-3">Median review duration <i class="far fa-question-circle text-primary" data-toggle="tooltip" data-html="true" data-placement="top" data-delay='{"hide":"3000"}' title="Median time to merge a pull request or merge request (reviews merged in the period defined by the user that were opened at any time). <a target='_blank' href='https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/overview/median-review-duration.md'>Read more</a>"></i></p>
            <p class="h5 font-weight-bold text-gray-800"><span id="number_review_duration"> {{ metrics.review_duration }}</span> days</p>
          </div>
          <div class="col-md border-left border-right">
            <p class="font-weight-bold text-muted mb-3"># Issues created <i class="far fa-question-circle text-primary" data-toggle="tooltip" data-html="true" data-placement="top" data-delay='{"hide":"3000"}' title="Number of created issues in a period of time. <a target='_blank' href='https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/overview/issues-created.md'>Read more</a>"></i></p>
            <p class="h5 font-weight-bold text-gray-800"><span id="number_issues_created_range"> {{ metrics.issues_created_range }}</span></p>
          </div>
          <div class="col-md border-left border-right">
            <p class="font-weight-bold text-muted mb-3"># Issues closed <i class="far fa-question-circle text-primary" data-toggle="tooltip" data-html="true" data-placement="top" data-delay='{"hide":"3000"}' title="Number of closed issues in a period of time. <a target='_blank' href='https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/overview/issues-closed.md'>Read more</a>"></i></p>
            <p class="h5 font-weight-bold text-gray-800"><span id="number_issues_closed_range"> {{ metrics.issues_closed_range }}</span></p>
          </div>
          <div class="col-md border-left border-right">
            <p class="font-weight-bold text-muted mb-3">Median time to close <i class="far fa-question-circle text-primary" data-toggle="tooltip" data-html="true" data-placement="top" data-delay='{"hide":"3000"}' title="Median time to close issues (issues closed in the period defined by the user that were opened at any time). <a target='_blank' href='https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/overview/median-time-to-close.md'>Read more</a>"></i></p>
            <p class="h5 font-weight-bold text-gray-800"><span id="number_issues_time_to_close"> {{ metrics.issues_time_to_close }}</span> days</p>
          </div>
          {% endif %}
        </div>
        <div id="charts-with-description" style="display:none;">
          {% if has_git %}
          <button onclick="toggle_descriptions();" type="button" class="btn btn-sm mt-2 float-right btn-outline-dark hide-descriptions-btn" data-toggle="tooltip" data-original-title="Hide descriptions"><i class="fas fa-eye-slash"></i></button>
          <div class="row">
            <div class="col-md-6">
              <div id="chart-commits-overview"></div>
            </div>
            <div class="col-md-6 card my-auto" style="border:none;">
              <div class="card-body">
                <h5 class="card-title"># Commits</h5>
                <p class="card-text">Number of commits is the most common measure of activity in a git repository. To compute it, we're considering all commits in all branches of all repositories in the project, excluding empty commits. Each commit represents a change to the source code, maybe touching several files. However, commits may be very different in size, complexity and usefulness to the project, so this number should only be considered as an indicator, among others.</p>
                <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/activity/commits-chart.md" class="card-link">Read more</a>
              </div>
            </div>
          </div>
          {% endif %}
          <button onclick="toggle_descriptions();" type="button" class="btn btn-sm mt-2 float-left btn-outline-dark hide-descriptions-btn" data-toggle="tooltip" data-original-title="Hide descriptions"><i class="fas fa-eye-slash"></i></button>
          <div class="row">
            <div class="col-md-6 card my-auto" style="border:none;">
              <div class="card-body">
                <h5 class="card-title"># Authors</h5>
                <p class="card-text">Number of authors gives an idea of the size of the active community for a project. In this case, we're measuring, for each week in the chart, the number of different identities that authored at least one commit, or that submitted issues or reviews (pull or merge requests) to any repository of the project during that week. Although this is usually a good indicator of people who are active in the project, it is important to notice that, during any given week, active developers may be busy with some other stuff, thus not appearing in this chart. Also, casual contributors (such as somebody submitting a bug report but not really engaged with the project) appear in the chart. People taking care of important tasks, such as writing documentation, may also be reflected in this chart, or not, depending on the repositories included in the project, and how the project deals with those tasks.</p>
                <p class="card-text">If the project description includes Meetup groups, people rsvp'ing meetings in those groups are also shown in the chart (Attendees).</p>
                <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/overview/authors-evolution.md" class="card-link">Read more</a>
              </div>
            </div>
            <div class="col-md-6">
              <div id="chart-people-overview"></div>
            </div>
          </div>
          {% if has_gitlab or has_github %}
          <button onclick="toggle_descriptions();" type="button" class="btn btn-sm mt-2 float-right btn-outline-dark hide-descriptions-btn" data-toggle="tooltip" data-original-title="Hide descriptions"><i class="fas fa-eye-slash"></i></button>
          <div class="row">
            <div class="col-md-6">
              <div id="chart-issues-overview"></div>
            </div>
            <div class="col-md-6 card my-auto" style="border:none;">
              <div class="card-body">
                <h5 class="card-title"># Issues created/closed</h5>
                <p class="card-text">Number of issues shows activity in the issue tracking system, usually including bug reports, feature requests, and other tasks that are tracked with issues (tickets). We measure, for each week, the number of issues that were opened (created) or closed during it. Not only the absolute numbers, but also the relationship between open and closed issues is important in this chart: if many more issues are consistently being opened than closed, the project is not dealing with all the new stuff that is entering the issue tracking system.</p>
                <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/activity/issues-created-closed.md" class="card-link">Read more</a>
              </div>
            </div>
          </div>
          <button onclick="toggle_descriptions();" type="button" class="btn btn-sm mt-2 float-left btn-outline-dark hide-descriptions-btn" data-toggle="tooltip" data-original-title="Hide descriptions"><i class="fas fa-eye-slash"></i></button>
          <div class="row">
            <div class="col-md-6 card my-auto" style="border:none;">
              <div class="card-body">
                <h5 class="card-title"># Reviews started/closed</h5>
                <p class="card-text">Number of reviews shows activity related to pull requests (GitHub) or merge requests (GitLab). This chart shows, for each week, the number of merge or pull requests that were submitted (started), and decided (closed). Pull and merge reviews are the mechanism used for reviewing code changes that are proposed to enter repositories. Closing a pull or merge request can be done by accepting the change, or by declining it. As with issues, a larger number of started reviews than closed reviews means that the project is not coping with all proposals for code change that are being submitted.</p>
                <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/activity/reviews-created-closed.md" class="card-link">Read more</a>
              </div>
            </div>
            <div class="col-md-6">
              <div id="chart-pull-requests-overview"></div>
            </div>
          </div>
          {% endif %}
        </div>
        <div id="charts-without-description">
          <div class="row">
            {% if has_git %}
            <div class="col-md-6">
              <div id="chart-commits-overview-without-description"></div>
            </div>
            {% endif %}
            <div class="col-md-6">
              <div id="chart-people-overview-without-description"></div>
            </div>
          </div>
          {% if has_gitlab or has_github %}
          <div class="row">
            <div class="col-md-6">
              <div id="chart-issues-overview-without-description"></div>
            </div>
            <div class="col-md-6">
              <div id="chart-pull-requests-overview-without-description"></div>
            </div>
          </div>
          {% endif %}
        </div>
      </div>
      <!-- End Overview -->
      <!-- Start Activity Overview -->
      <div id="activity-overview" class="mb-4 tab-pane fade" role="tabpanel" >
        <div class="row py-4 border">
          {% if has_git %}
          <div class="col-md">
            <div class="row">
              <div class="col-xl">
                <p class="font-weight-bold text-muted mb-3"># Commits <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/activity/commits.md"><i class="far fa-question-circle"></i></a></p>
                <p class="h5 font-weight-bold text-gray-800"><span id="number_commits_activity_overview"> {{ metrics.commits_activity_overview }}</span></p>
              </div>
              <div class="col-xl border-left">
                <p class="font-weight-bold text-muted mb-3"># Lines/commit <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/activity/lines-commit.md"><i class="far fa-question-circle"></i></a></p>
                <p class="h5 font-weight-bold text-gray-800"><span id="number_lines_commit_activity_overview">{{ metrics.lines_commit_activity_overview|stringformat:".2f" }}</span></p>
              </div>
              <div class="col-xl border-left">
                <p class="font-weight-bold text-muted mb-3"># Lines/commit/file <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/activity/lines-commit-file.md"><i class="far fa-question-circle"></i></a></p>
                <p class="h5 font-weight-bold text-gray-800"><span id="number_lines_commit_file_activity_overview">{{ metrics.lines_commit_file_activity_overview|stringformat:".2f" }}</span></p>
              </div>
            </div>
          </div>
          {% endif %}
          {% if has_gitlab or has_github %}
          <div class="col-md">
            <div class="row">
              <div class="col-xl border-left">
                <p class="font-weight-bold text-muted mb-3"># Issues created <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/activity/issues-created.md"><i class="far fa-question-circle"></i></a></p>
                <p class="h5 font-weight-bold text-gray-800"><span id="number_issues_created_activity_overview"> {{ metrics.issues_created_activity_overview }}</span></p>
              </div>
              <div class="col-xl border-left">
                <p class="font-weight-bold text-muted mb-3"># Issues closed <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/activity/issues-closed.md"><i class="far fa-question-circle"></i></a></p>
                <p class="h5 font-weight-bold text-gray-800"><span id="number_issues_closed_activity_overview">{{ metrics.issues_closed_activity_overview }}</span></p>
              </div>
              <div class="col-xl border-left">
                <p class="font-weight-bold text-muted mb-3"># Issues open <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/activity/issues-open.md"><i class="far fa-question-circle"></i></a></p>
                <p class="h5 font-weight-bold text-gray-800"><span id="number_issues_open_activity_overview">{{ metrics.issues_open_activity_overview }}</span></p>
              </div>
            </div>
          </div>
          <div class="col-md">
            <div class="row">
              <div class="col-xl border-left">
                <p class="font-weight-bold text-muted mb-3"># Pull/Merge requests created <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/activity/pull-merge-requests-created.md"><i class="far fa-question-circle"></i></a></p>
                <p class="h5 font-weight-bold text-gray-800"><span id="number_reviews_created_activity_overview"> {{ metrics.reviews_created_activity_overview }}</span></p>
              </div>
              <div class="col-xl border-left">
                <p class="font-weight-bold text-muted mb-3"># Pull/Merge requests closed <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/activity/pull-merge-requests-closed.md"><i class="far fa-question-circle"></i></a></p>
                <p class="h5 font-weight-bold text-gray-800"><span id="number_reviews_closed_activity_overview">{{ metrics.reviews_closed_activity_overview }}</span></p>
              </div>
              <div class="col-xl border-left">
                <p class="font-weight-bold text-muted mb-3"># Pull/Merge requests open <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/activity/pull-merge-requests-open.md"><i class="far fa-question-circle"></i></a></p>
                <p class="h5 font-weight-bold text-gray-800"><span id="number_reviews_open_activity_overview">{{ metrics.reviews_open_activity_overview }}</span></p>
              </div>
            </div>
          </div>
          {% endif %}
        </div>
        {% if has_git %}
        <div class="row">
          <div id="chart-commits-activity-overview"></div>
        </div>
        {% endif %}
        {% if has_github or has_gitlab %}
        <div class="row">
          <div id="chart-issues-open-closed-activity-overview"></div>
        </div>
        <div class="row">
          <div id="chart-reviews-open-closed-activity-overview"></div>
        </div>
        {% endif %}
      </div>
      <!-- End Activity Overview -->
      <!-- Start GIT ACTIVITY -->
      {% if has_git %}
      <div id="activity-git" class="mb-4 tab-pane fade" role="tabpanel" >
        <div class="row py-4 border">
          <div class="col-md-4">
            <p class="font-weight-bold text-muted mb-3"># Commits <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/activity/commits.md"><i class="far fa-question-circle"></i></a></p>
            <div class="row">
              <div class="col-4">
                <p id="number_commits_last_month" class="h5 font-weight-bold text-gray-800">{{ metrics.commits_last_month }}</p>
                <p class="text-muted mb-1">Last month</p>
              </div>
              <div class="col-4">
                <p id="number_commits_last_year" class="h5 font-weight-bold text-gray-800">{{metrics.commits_last_year}}</p>
                <p class="text-muted mb-1">Last year</p>
              </div>
              <div class="col-4">
                <p id="number_commits_yoy" class="h5 font-weight-bold text-gray-800">{{metrics.commits_yoy | stringformat:"+.2f" }}%</p>
                <p class="text-muted mb-1">Year-over-year</p>
              </div>
            </div>
          </div>
          <div class="col-md-4 border-right border-left">
            <p class="font-weight-bold text-muted mb-3"># Lines/commit <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/activity/lines-commit.md"><i class="far fa-question-circle"></i></a></p>
            <div class="row">
              <div class="col-4">
                <p id="number_lines_commit_last_month" class="h5 font-weight-bold text-gray-800">{{ metrics.lines_commit_last_month|stringformat:".2f" }}</p>
                <p class="text-muted mb-1">Last month</p>
              </div>
              <div class="col-4">
                <p id="number_lines_commit_last_year" class="h5 font-weight-bold text-gray-800">{{metrics.lines_commit_last_year|stringformat:".2f"}}</p>
                <p class="text-muted mb-1">Last year</p>
              </div>
              <div class="col-4">
                <p id="number_lines_commit_yoy" class="h5 font-weight-bold text-gray-800">{{metrics.lines_commit_yoy | stringformat:"+.2f" }}%</p>
                <p class="text-muted mb-1">Year-over-year</p>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <p class="font-weight-bold text-muted mb-3"># Lines/commit/file <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/activity/lines-commit-file.md"><i class="far fa-question-circle"></i></a></p>
            <div class="row">
              <div class="col-4">
                <p id="number_lines_commit_file_last_month" class="h5 font-weight-bold text-gray-800">{{ metrics.lines_commit_file_last_month|stringformat:".4f" }}</p>
                <p class="text-muted mb-1">Last month</p>
              </div>
              <div class="col-4">
                <p id="number_lines_commit_file_last_year" class="h5 font-weight-bold text-gray-800">{{metrics.lines_commit_file_last_year|stringformat:".4f"}}</p>
                <p class="text-muted mb-1">Last year</p>
              </div>
              <div class="col-4">
                <p id="number_lines_commit_file_yoy" class="h5 font-weight-bold text-gray-800">{{metrics.lines_commit_file_yoy | stringformat:"+.2f" }}%</p>
                <p class="text-muted mb-1">Year-over-year</p>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div id="chart-commits"></div>
          </div>
          <div class="col-md-6">
            <div id="chart-lines-touched"></div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div id="chart-commits-hour"></div>
          </div>
          <div class="col-md-6">
            <div id="chart-commits-weekday"></div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div id="chart-commits-heatmap"></div>
          </div>
          <div class="col-md-6">
            <div id="chart-commits-by-repository"></div>
          </div>
        </div>
      </div>
      {% endif %}
      <!-- End GIT ACTIVITY -->
      <!-- Start Issues ACTIVITY -->
      {% if has_gitlab or has_github %}
      <div id="activity-issues" class="mb-4 tab-pane fade" role="tabpanel" >
        <div class="row py-4 border">
          <div class="col-md-6">
            <p class="font-weight-bold text-muted mb-3"># Issues created <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/activity/issues-created.md"><i class="far fa-question-circle"></i></a></p>
            <div class="row">
              <div class="col-4">
                <p id="number_issues_open_last_month" class="h5 font-weight-bold text-gray-800">{{ metrics.issues_open_last_month }}</p>
                <p class="text-muted mb-1">Last month</p>
              </div>
              <div class="col-4">
                <p id="number_issues_open_last_year" class="h5 font-weight-bold text-gray-800">{{metrics.issues_open_last_year}}</p>
                <p class="text-muted mb-1">Last year</p>
              </div>
              <div class="col-4">
                <p id="number_issues_open_yoy" class="h5 font-weight-bold text-gray-800">{{metrics.issues_open_yoy | stringformat:"+.2f" }}%</p>
                <p class="text-muted mb-1">Year-over-year</p>
              </div>
            </div>
          </div>
          <div class="col-md-6 border-left">
            <p class="font-weight-bold text-muted mb-3"># Issues closed <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/activity/issues-closed.md"><i class="far fa-question-circle"></i></a></p>
            <div class="row">
              <div class="col-4">
                <p id="number_issues_closed_last_month" class="h5 font-weight-bold text-gray-800">{{ metrics.issues_closed_last_month }}</p>
                <p class="text-muted mb-1">Last month</p>
              </div>
              <div class="col-4">
                <p id="number_issues_closed_last_year" class="h5 font-weight-bold text-gray-800">{{metrics.issues_closed_last_year}}</p>
                <p class="text-muted mb-1">Last year</p>
              </div>
              <div class="col-4">
                <p id="number_issues_closed_yoy" class="h5 font-weight-bold text-gray-800">{{metrics.issues_closed_yoy | stringformat:"+.2f" }}%</p>
                <p class="text-muted mb-1">Year-over-year</p>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div id="chart-issues-open-closed"></div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div id="chart-issues-open-weekday"></div>
          </div>
          <div class="col-md-6">
            <div id="chart-issues-closed-weekday"></div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div id="chart-issues-opened-heatmap"></div>
          </div>
          <div class="col-md-6">
            <div id="chart-issues-closed-heatmap"></div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div id="chart-issues-created-by-repository"></div>
          </div>
          <div class="col-md-6">
            <div id="chart-issues-closed-by-repository"></div>
          </div>
        </div>
      </div>
      {% endif %}
      <!-- End Issues ACTIVITY -->
      <!-- Start Reviews ACTIVITY -->
      {% if has_gitlab or has_github %}
      <div id="activity-reviews" class="mb-4 tab-pane fade" role="tabpanel" >
        <div class="row py-4 border">
          <div class="col-md-6">
            <p class="font-weight-bold text-muted mb-3"># Pull/Merge requests created <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/activity/pull-merge-requests-created.md"><i class="far fa-question-circle"></i></a></p>
            <div class="row">
              <div class="col-4">
                <p id="number_reviews_open_last_month" class="h5 font-weight-bold text-gray-800">{{ metrics.reviews_open_last_month }}</p>
                <p class="text-muted mb-1">Last month</p>
              </div>
              <div class="col-4">
                <p id="number_reviews_open_last_year" class="h5 font-weight-bold text-gray-800">{{metrics.reviews_open_last_year}}</p>
                <p class="text-muted mb-1">Last year</p>
              </div>
              <div class="col-4">
                <p id="number_reviews_open_yoy" class="h5 font-weight-bold text-gray-800">{{metrics.reviews_open_yoy | stringformat:"+.2f" }}%</p>
                <p class="text-muted mb-1">Year-over-year</p>
              </div>
            </div>
          </div>
          <div class="col-md-6 border-left">
            <p class="font-weight-bold text-muted mb-3"># Pull/Merge requests closed <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/activity/pull-merge-requests-closed.md"><i class="far fa-question-circle"></i></a></p>
            <div class="row">
              <div class="col-4">
                <p id="number_reviews_closed_last_month" class="h5 font-weight-bold text-gray-800">{{ metrics.reviews_closed_last_month }}</p>
                <p class="text-muted mb-1">Last month</p>
              </div>
              <div class="col-4">
                <p id="number_reviews_closed_last_year" class="h5 font-weight-bold text-gray-800">{{metrics.reviews_closed_last_year}}</p>
                <p class="text-muted mb-1">Last year</p>
              </div>
              <div class="col-4">
                <p id="number_reviews_closed_yoy" class="h5 font-weight-bold text-gray-800">{{metrics.reviews_closed_yoy | stringformat:"+.2f" }}%</p>
                <p class="text-muted mb-1">Year-over-year</p>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div id="chart-reviews-open-closed"></div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div id="chart-reviews-open-weekday"></div>
          </div>
          <div class="col-md-6">
            <div id="chart-reviews-closed-weekday"></div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div id="chart-reviews-opened-heatmap"></div>
          </div>
          <div class="col-md-6">
            <div id="chart-reviews-closed-heatmap"></div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div id="chart-reviews-created-by-repository"></div>
          </div>
          <div class="col-md-6">
            <div id="chart-reviews-closed-by-repository"></div>
          </div>
        </div>
      </div>
      {% endif %}
      <!-- End Reviews ACTIVITY-->
      <!-- Start Community Overview -->
      <div id="community-overview" class="mb-4 tab-pane fade" role="tabpanel" >
        <div class="row py-4 border">
          <div class="col-md">
            <p class="font-weight-bold text-muted mb-3"># Active people <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/community/active-people.md"><i class="far fa-question-circle"></i></a></p>
            <div class="row">
              {% if has_git %}
              <div class="col-md">
                <p class="h5 font-weight-bold text-gray-800"><span id="active_people_git_community_overview">{{ metrics.active_people_git_community_overview }}</span></p>
                <p class="text-muted mb-1">Git authors</p>
              </div>
              {% endif %}
              {% if has_gitlab or has_github %}
              <div class="col-md">
                <p class="h5 font-weight-bold text-gray-800"><span id="active_people_issues_community_overview">{{metrics.active_people_issues_community_overview}}</span></p>
                <p class="text-muted mb-1">Issue authors</p>
              </div>
              <div class="col-md">
                <p class="h5 font-weight-bold text-gray-800"><span id="active_people_patches_community_overview">{{metrics.active_people_patches_community_overview}}</span></p>
                <p class="text-muted mb-1">PRs/MRs submitters</p>
              </div>
              {% endif %}
            </div>
          </div>
          <div class="col-md border-left">
            <p class="font-weight-bold text-muted mb-3"># Onboardings <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/community/onboardings.md"><i class="far fa-question-circle"></i></a></p>
            <div class="row">
              {% if has_git %}
              <div class="col-md">
                <p class="h5 font-weight-bold text-gray-800"><span id="onboardings_git_community_overview">{{metrics.onboardings_git_community_overview}}</span></p>
                <p class="text-muted mb-1">Git authors</p>
              </div>
              {% endif %}
              {% if has_gitlab or has_github %}
              <div class="col-md">
                <p class="h5 font-weight-bold text-gray-800"><span id="onboardings_issues_community_overview">{{metrics.onboardings_issues_community_overview}}</span></p>
                <p class="text-muted mb-1">Issue authors</p>
              </div>
              <div class="col-md">
                <p class="h5 font-weight-bold text-gray-800"><span id="onboardings_patches_community_overview">{{metrics.onboardings_patches_community_overview}}</span></p>
                <p class="text-muted mb-1">PRs/MRs submitters</p>
              </div>
              {% endif %}
            </div>
          </div>
        </div>
        {% if has_git %}
        <div class="row">
          <div id="chart-authors-git-active-community-overview"></div>
        </div>
        {% endif %}
        {% if has_gitlab or has_github %}
        <div class="row">
          <div id="chart-authors-issues-active-community-overview"></div>
        </div>
        <div class="row">
          <div id="chart-authors-reviews-active-community-overview"></div>
        </div>
        {% endif %}
      </div>
      <!-- End Community Overview -->
      <!-- Start Commits Community -->
      {% if has_git %}
      <div id="community-git" class="mb-4 tab-pane fade" role="tabpanel" >
        <div class="row py-4 border">
          <div class="col-md-6">
            <p class="font-weight-bold text-muted mb-3"># Active people <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/community/active-people.md"><i class="far fa-question-circle"></i></a></p>
            <div class="row">
              <div class="col-12">
                <p class="h5 font-weight-bold text-gray-800"><span id="active_people_git">{{ metrics.active_people_git }}</span></p>
                <p class="text-muted mb-1">Git authors</p>
              </div>
            </div>
          </div>
          <div class="col-md-6 border-left">
            <p class="font-weight-bold text-muted mb-3"># Onboardings <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/community/onboardings.md"><i class="far fa-question-circle"></i></a></p>
            <div class="row">
              <div class="col-12">
                <p class="h5 font-weight-bold text-gray-800"><span id="onboardings_git">{{metrics.onboardings_git}}</span></p>
                <p class="text-muted mb-1">Git authors</p>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div id="chart-authors-git-active"></div>
          </div>
          <div class="col-md-6">
            <div id="chart-onboarding-leaving-git"></div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div id="chart-authors-aging-git"></div>
          </div>
          <div class="col-md-6">
            <div id="chart-authors-retained-ratio-git"></div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div id="chart-organizational-diversity-authors"></div>
          </div>
          <div class="col-md-6">
            <div id="chart-organizational-diversity-commits"></div>
          </div>
        </div>
      </div>
      {% endif %}
      <!-- End Commits Community -->
      <!-- Start Issues Community -->
      {% if has_gitlab or has_github %}
      <div id="community-issues" class="mb-4 tab-pane fade" role="tabpanel" >
        <div class="row py-4 border">
          <div class="col-md-6">
            <p class="font-weight-bold text-muted mb-3"># Active people <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/community/active-people.md"><i class="far fa-question-circle"></i></a></p>
            <div class="row">
              <div class="col-12">
                <p class="h5 font-weight-bold text-gray-800"><span id="active_people_issues">{{metrics.active_people_issues}}</span></p>
                <p class="text-muted mb-1">Issue authors</p>
              </div>
            </div>
          </div>
          <div class="col-md-6 border-left">
            <p class="font-weight-bold text-muted mb-3"># Onboardings <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/community/onboardings.md"><i class="far fa-question-circle"></i></a></p>
            <div class="row">
              <div class="col-12">
                <p class="h5 font-weight-bold text-gray-800"><span id="onboardings_issues">{{metrics.onboardings_issues}}</span></p>
                <p class="text-muted mb-1">Issue authors</p>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div id="chart-authors-issues-active"></div>
          </div>
          <div class="col-md-6">
            <div id="chart-onboarding-leaving-issues"></div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div id="chart-authors-aging-issues"></div>
          </div>
          <div class="col-md-6">
            <div id="chart-authors-retained-ratio-issues"></div>
          </div>
        </div>
      </div>
      {% endif %}
      <!-- End Issues Community -->
      <!-- Start Reviews Community -->
      {% if has_gitlab or has_github %}
      <div id="community-reviews" class="mb-4 tab-pane fade" role="tabpanel" >
        <div class="row py-4 border">
          <div class="col-md-6">
            <p class="font-weight-bold text-muted mb-3"># Active people <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/community/active-people.md"><i class="far fa-question-circle"></i></a></p>
            <div class="row">
              <div class="col-12">
                <p class="h5 font-weight-bold text-gray-800"><span id="active_people_patches">{{metrics.active_people_patches}}</span></p>
                <p class="text-muted mb-1">PRs/MRs submitters</p>
              </div>
            </div>
          </div>
          <div class="col-md-6 border-left">
            <p class="font-weight-bold text-muted mb-3"># Onboardings <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/community/onboardings.md"><i class="far fa-question-circle"></i></a></p>
            <div class="row">
              <div class="col-12">
                <p class="h5 font-weight-bold text-gray-800"><span id="onboardings_patches">{{metrics.onboardings_patches}}</span></p>
                <p class="text-muted mb-1">PRs/MRs submitters</p>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div id="chart-authors-reviews-active"></div>
          </div>
          <div class="col-md-6">
            <div id="chart-onboarding-leaving-reviews"></div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div id="chart-authors-aging-reviews"></div>
          </div>
          <div class="col-md-6">
            <div id="chart-authors-retained-ratio-reviews"></div>
          </div>
        </div>
      </div>
      {% endif %}
      <!-- End Reviews Community -->
      <!-- Start Performance Overview -->
      <div id="performance-overview" class="mb-4 tab-pane fade" role="tabpanel" >
        <div class="row py-4 border">
          <div class="col-md-6">
            <p class="font-weight-bold text-muted mb-3">Issues</p>
            <div class="row">
              <div class="col-4">
                <p class="font-weight-bold text-muted mb-3">Time open (average) <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/performance/issues-time-open-average.md"><i class="far fa-question-circle"></i></a></p>
                <p class="h5 font-weight-bold text-gray-800"><span id="issues_time_open_average_performance_overview">{{ metrics.issues_time_open_average_performance_overview }}</span> days</p>
              </div>
              <div class="col-4">
                <p class="font-weight-bold text-muted mb-3">Time open (median) <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/performance/issues-time-open-median.md"><i class="far fa-question-circle"></i></a></p>
                <p class="h5 font-weight-bold text-gray-800"><span id="issues_time_open_median_performance_overview">{{ metrics.issues_time_open_median_performance_overview }}</span> days</p>
              </div>
              <div class="col-4">
                <p class="font-weight-bold text-muted mb-3">Open issues <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/performance/open-issues.md"><i class="far fa-question-circle"></i></a></p>
                <p id="open_issues_performance_overview" class="h5 font-weight-bold text-gray-800">{{ metrics.open_issues_performance_overview }}</p>
              </div>
            </div>
          </div>
          <div class="col-md-6 border-left">
            <p class="font-weight-bold text-muted mb-3">Reviews</p>
            <div class="row">
              <div class="col-4">
                <p class="font-weight-bold text-muted mb-3">Time open (average) <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/performance/reviews-time-open-average.md"><i class="far fa-question-circle"></i></a></p>
                <p class="h5 font-weight-bold text-gray-800"><span id="reviews_time_open_average_performance_overview">{{ metrics.reviews_time_open_average_performance_overview }}</span> days</p>
              </div>
              <div class="col-4">
                <p class="font-weight-bold text-muted mb-3">Time open (median) <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/performance/reviews-time-open-median.md"><i class="far fa-question-circle"></i></a></p>
                <p class="h5 font-weight-bold text-gray-800"><span id="reviews_time_open_median_performance_overview">{{ metrics.reviews_time_open_median_performance_overview }}</span> days</p>
              </div>
              <div class="col-4">
                <p class="font-weight-bold text-muted mb-3">Open reviews <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/performance/open-reviews.md"><i class="far fa-question-circle"></i></a></p>
                <p id="open_reviews_performance_overview" class="h5 font-weight-bold text-gray-800">{{ metrics.open_reviews_performance_overview }}</p>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div id="chart-issues-created-ttc-performance-overview"></div>
          </div>
          <div class="col-md-6">
            <div id="chart-reviews-created-ttc-performance-overview"></div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div id="chart-issues-closed-ttc-performance-overview"></div>
          </div>
          <div class="col-md-6">
            <div id="chart-reviews-closed-ttc-performance-overview"></div>
          </div>
        </div>
      </div>
      <!-- End Performance Overview -->
      <!-- Start Performance Issues -->
      <div id="performance-issues" class="mb-4 tab-pane fade" role="tabpanel" >
        <div class="row py-4 border">
          <div class="col-md-6">
            <p class="font-weight-bold text-muted mb-3">Time to close (median) <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/performance/issues-time-to-close-median.md"><i class="far fa-question-circle"></i></a></p>
            <div class="row">
              <div class="col-4">
                <p class="h5 font-weight-bold text-gray-800"><span id="issues_time_to_close_median_last_month">{{ metrics.issues_time_to_close_median_last_month }}</span> days</p>
                <p class="text-muted mb-1">Last month</p>
              </div>
              <div class="col-4">
                <p class="h5 font-weight-bold text-gray-800"><span id="issues_time_to_close_median_last_year">{{ metrics.issues_time_to_close_median_last_year }}</span> days</p>
                <p class="text-muted mb-1">Last year</p>
              </div>
              <div class="col-4">
                <p id="issues_time_to_close_median_yoy" class="h5 font-weight-bold text-gray-800">{{ metrics.issues_time_to_close_median_yoy | stringformat:"+.2f" }}%</p>
                <p class="text-muted mb-1">Year-over-year</p>
              </div>
            </div>
          </div>
          <div class="col-md-6 border-left">
            <div class="row">
              <div class="col-4">
                <p class="font-weight-bold text-muted mb-3">Time open (average) <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/performance/issues-time-open-average.md"><i class="far fa-question-circle"></i></a></p>
                <p class="h5 font-weight-bold text-gray-800"><span id="issues_time_open_average">{{ metrics.issues_time_open_average }}</span> days</p>
              </div>
              <div class="col-4">
                <p class="font-weight-bold text-muted mb-3">Time open (median) <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/performance/issues-time-open-median.md"><i class="far fa-question-circle"></i></a></p>
                <p class="h5 font-weight-bold text-gray-800"><span id="issues_time_open_median">{{ metrics.issues_time_open_median }}</span> days</p>
              </div>
              <div class="col-4">
                <p class="font-weight-bold text-muted mb-3">Open issues <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/performance/open-issues.md"><i class="far fa-question-circle"></i></a></p>
                <p id="open_issues" class="h5 font-weight-bold text-gray-800">{{ metrics.open_issues }}</p>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div id="chart-issues-created-ttc"></div>
          </div>
          <div class="col-md-6">
            <div id="chart-issues-still-open"></div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div id="chart-issues-closed-ttc"></div>
          </div>
          <div class="col-md-6">
            <div id="chart-issues-closed-created-ratio"></div>
          </div>
        </div>
      </div>
      <!-- End Performance Issues -->
      <!-- Start Performance Reviews -->
      <div id="performance-reviews" class="mb-4 tab-pane fade" role="tabpanel" >
        <div class="row py-4 border">
          <div class="col-md-6">
            <p class="font-weight-bold text-muted mb-3">Time to close (median) <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/performance/reviews-time-to-close-median.md"><i class="far fa-question-circle"></i></a></p>
            <div class="row">
              <div class="col-4">
                <p class="h5 font-weight-bold text-gray-800"><span id="reviews_time_to_close_median_last_month">{{ metrics.reviews_time_to_close_median_last_month }}</span> days</p>
                <p class="text-muted mb-1">Last month</p>
              </div>
              <div class="col-4">
                <p class="h5 font-weight-bold text-gray-800"><span id="reviews_time_to_close_median_last_year">{{ metrics.reviews_time_to_close_median_last_year }}</span> days</p>
                <p class="text-muted mb-1">Last year</p>
              </div>
              <div class="col-4">
                <p id="reviews_time_to_close_median_yoy" class="h5 font-weight-bold text-gray-800">{{ metrics.reviews_time_to_close_median_yoy | stringformat:"+.2f" }}%</p>
                <p class="text-muted mb-1">Year-over-year</p>
              </div>
            </div>
          </div>
          <div class="col-md-6 border-left">
            <div class="row">
              <div class="col-4">
                <p class="font-weight-bold text-muted mb-3">Time open (average) <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/performance/reviews-time-open-average.md"><i class="far fa-question-circle"></i></a></p>
                <p class="h5 font-weight-bold text-gray-800"><span id="reviews_time_open_average">{{ metrics.reviews_time_open_average }}</span> days</p>
              </div>
              <div class="col-4">
                <p class="font-weight-bold text-muted mb-3">Time open (median) <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/performance/reviews-time-open-median.md"><i class="far fa-question-circle"></i></a></p>
                <p class="h5 font-weight-bold text-gray-800"><span id="reviews_time_open_median">{{ metrics.reviews_time_open_median }}</span> days</p>
              </div>
              <div class="col-4">
                <p class="font-weight-bold text-muted mb-3">Open reviews <a target="_blank" href="https://gitlab.com/cauldronio/cauldron/-/blob/master/guides/metrics/performance/open-reviews.md"><i class="far fa-question-circle"></i></a></p>
                <p id="open_reviews" class="h5 font-weight-bold text-gray-800">{{ metrics.open_reviews }}</p>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div id="chart-reviews-created-ttc"></div>
          </div>
          <div class="col-md-6">
            <div id="chart-reviews-still-open"></div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div id="chart-reviews-closed-ttc"></div>
          </div>
          <div class="col-md-6">
            <div id="chart-reviews-closed-created-ratio"></div>
          </div>
        </div>
      </div>
      <!-- End Performance Reviews -->
    </div>
  </div>
</div>
